!function(e){var i=0,t=0,r=0,n=0,l=10,o=0,s="ontouchstart"in window,a="onorientationchange"in window,c=!1,d=!1,f=!1,h=!1,u=!1,S=!1,v="pointer",g="pointer",p=new Array,b=new Array,w=new Array,m=new Array,C=new Array,y=new Array,O=new Array,k={showScrollbar:function(i,t){i.scrollbarHide&&e("."+t).css({opacity:i.scrollbarOpacity,filter:"alpha(opacity:"+100*i.scrollbarOpacity+")"})},hideScrollbar:function(e,i,t,r,n,o,s,a,c,d){if(e.scrollbar&&e.scrollbarHide)for(var f=t;t+25>f;f++)i[i.length]=k.hideScrollbarIntervalTimer(l*f,r[t],(t+24-f)/24,n,o,s,a,c,d,e)},hideScrollbarInterval:function(i,t,r,n,l,s,a,c,d){o=-1*i/r*(s-a-c-l),k.setSliderOffset("."+n,o),e("."+n).css({opacity:d.scrollbarOpacity*t,filter:"alpha(opacity:"+d.scrollbarOpacity*t*100+")"})},slowScrollHorizontalInterval:function(i,r,n,l,s,a,c,d,f,h,u,S,v,g,p,b){if(newChildOffset=k.calcActiveOffset(b,r,0,u,n,a,v,h),newChildOffset!=O[p]&&(O[p]=newChildOffset,b.onSlideChange(new k.args(b,i,e(i).children(":eq("+h+")"),h%v))),r=Math.floor(r),k.setSliderOffset(i,r),b.scrollbar){o=Math.floor(-1*r/n*(c-d-s));var w=s-f;r>=t?(w=s-f- -1*o,k.setSliderOffset(e("."+l),0),e("."+l).css({width:w+"px"})):-1*n+1>=r?(w=c-d-f-o,k.setSliderOffset(e("."+l),o),e("."+l).css({width:w+"px"})):(k.setSliderOffset(e("."+l),o),e("."+l).css({width:w+"px"}))}},slowScrollHorizontal:function(i,r,n,o,s,a,c,d,f,h,u,S,v,g,p,b,w){var m=new Array,C=k.getSliderOffset(i,"x"),T=0,A=25/1024*d;frictionCoefficient=w.frictionCoefficient,elasticFrictionCoefficient=w.elasticFrictionCoefficient,snapFrictionCoefficient=w.snapFrictionCoefficient,snapToChildren=w.snapToChildren,s>5&&snapToChildren?T=1:-5>s&&snapToChildren&&(T=-1),-1*A>s?s=-1*A:s>A&&(s=A);var x=k.getAnimationSteps(w,s,C,n,t,S),E=k.calcActiveOffset(w,x[x.length-1],T,S,n,d,g,O[v]);if(w.infiniteSlider&&(S[E]>S[b+1]+d&&(E+=b),S[E]<S[2*b-1]-d&&(E-=b)),x[x.length-1]<S[E]&&0>T||x[x.length-1]>S[E]&&T>0||!snapToChildren)for(;s>1||-1>s;)s*=frictionCoefficient,C+=s,(C>t||-1*n>C)&&(s*=elasticFrictionCoefficient,C+=s),m[m.length]=C;if(snapToChildren||C>t||-1*n>C){for(;C<S[E]-.5||C>S[E]+.5;)C=(C-S[E])*snapFrictionCoefficient+S[E],m[m.length]=C;m[m.length]=S[E]}var I=1;m.length%2!=0&&(I=0);w.infiniteSlider&&(E=E%b+b);for(var M=0;M<r.length;M++)clearTimeout(r[M]);for(var M=I;M<m.length;M+=2)w.infiniteSlider&&m[M]<S[2*b]+d&&(m[M]=m[M]-S[b]),r[r.length]=k.slowScrollHorizontalIntervalTimer(l*M,i,m[M],n,o,c,d,f,h,u,E,S,p,g,b,v,w);r[r.length]=k.onSlideCompleteTimer(l*(M+1),w,i,e(i).children(":eq("+E+")"),E%g,v,b),y[v]=r,k.hideScrollbar(w,r,M,m,n,o,c,d,h,u)},onSlideComplete:function(i,t,r,n,l,o){if(p[l]!=n){i.onSlideComplete(new k.args(i,e(t),r,n)),0==n&&i.onFirstSlideComplete(new k.args(i,e(t),r,n));var s=o-1-i.lastSlideOffset;n==s&&i.onLastSlideComplete(new k.args(i,e(t),r,n))}p[l]=n},getSliderOffset:function(i,t){var r=0;if(t="x"==t?4:5,s||c){var n=e(i).css("-webkit-transform").split(",");r=parseInt(n[t],10)}else r=parseInt(e(i).css("left"),10);return r},setSliderOffset:function(i,t){e(i).css(s||c?{webkitTransform:"translateX("+t+"px)"}:{left:t+"px"})},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(c=!0,v="-webkit-grab",g="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(S=!0,v="move",g="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?(d=!0,u=!0):null!=navigator.userAgent.match("MSIE 8")?(f=!0,u=!0):null!=navigator.userAgent.match("MSIE 9")&&(h=!0,u=!0)},getAnimationSteps:function(e,i,t,r,n){var l=new Array;for(1>=i&&i>=0?i=-2:i>=-1&&0>=i&&(i=2);i>1||-1>i;)i*=e.frictionCoefficient,t+=i,(t>n||-1*r>t)&&(i*=e.elasticFrictionCoefficient,t+=i),l[l.length]=t;return activeChildOffset=0,l},calcActiveOffset:function(e,i,t,r,n,l,o,s){for(var a,c=!1,d=new Array,f=0;f<r.length;f++)r[f]<=i&&r[f]>i-l&&(c||r[f]==i||(d[d.length]=r[f-1]),d[d.length]=r[f],c=!0);0==d.length&&(d[0]=r[r.length-1]);for(var h=l,u=0,f=0;f<d.length;f++){var S=Math.abs(i-d[f]);h>S&&(u=d[f],h=S)}for(var f=0;f<r.length;f++)u==r[f]&&(a=f);return 0>t&&a%o==s%o?(a=s+1,a>=r.length&&(a=r.length-1)):t>0&&a%o==s%o&&(a=s-1,0>a&&(a=0)),a},changeSlide:function(i,t,r,n,o,s,a,c,d,f,h,u,S,v,g,p){k.autoSlidePause(u);for(var b=0;b<r.length;b++)clearTimeout(r[b]);var w=Math.ceil(p.autoSlideTransTimer/10)+1,m=k.getSliderOffset(t,"x");p.infiniteSlider&&m>h[g+1]+a&&i==2*g-2&&(m-=v);var C,O,T=h[i],A=T-m,x=new Array;k.showScrollbar(p,o);for(var E=0;w>=E;E++)C=E,C/=w,C--,O=m+A*(Math.pow(C,5)+1),p.infiniteSlider&&(O>h[g+1]+a&&(O-=v),O<h[2*g-1]-a&&(O+=v)),x[x.length]=O;p.infiniteSlider&&(i=i%g+g);for(var E=0;E<x.length;E++)p.infiniteSlider&&x[E]<h[2*g]+a&&(x[E]=x[E]-h[g]),r[E]=k.slowScrollHorizontalIntervalTimer(l*(E+1),t,x[E],n,o,s,a,c,d,f,i,h,v,S,g,u,p);return 0!=A&&(r[r.length]=k.onSlideCompleteTimer(l*(E+1),p,t,e(t).children(":eq("+i+")"),i%S,u,g)),y[u]=r,k.hideScrollbar(p,r,E,x,n,o,s,a,d,f),k.autoSlide(t,r,n,o,s,a,c,d,f,h,u,S,v,g,p),i},autoSlide:function(e,i,t,r,n,l,o,s,a,c,d,f,h,u,S){return S.autoSlide?(k.autoSlidePause(d),void(b[d]=setTimeout(function(){!S.infiniteSlider&&O[d]>c.length-1&&(O[d]=O[d]-u);var v=S.infiniteSlider?O[d]+1:(O[d]+1)%u;O[d]=k.changeSlide(v,e,i,t,r,n,l,o,s,a,c,d,f,h,u,S),k.autoSlide(e,i,t,r,n,l,o,s,a,c,d,f,h,u,S)},S.autoSlideTimer+S.autoSlideTransTimer))):!1},autoSlidePause:function(e){clearTimeout(b[e])},slowScrollHorizontalIntervalTimer:function(e,i,t,r,n,l,o,s,a,c,d,f,h,u,S,v,g){var p=setTimeout(function(){k.slowScrollHorizontalInterval(i,t,r,n,l,o,s,a,c,d,f,h,u,S,v,g)},e);return p},onSlideCompleteTimer:function(e,i,t,r,n,l,o){var s=setTimeout(function(){k.onSlideComplete(i,t,r,n,l,o)},e);return s},hideScrollbarIntervalTimer:function(e,i,t,r,n,l,o,s,a,c){var d=setTimeout(function(){k.hideScrollbarInterval(i,t,r,n,l,o,s,a,c)},e);return d},args:function(e,i,t,r){this.settings=e,this.sliderObject=i,this.currentSlideObject=t,this.currentSlideNumber=r},preventDrag:function(e){e.preventDefault()},preventClick:function(){return!1},enableClick:function(){return!0}};k.setBrowserInfo();var T={init:function(l){var c=e.extend({elasticPullResistance:.6,frictionCoefficient:.92,elasticFrictionCoefficient:.6,snapFrictionCoefficient:.92,touchMoveThreshold:1,snapToChildren:!1,startAtSlide:1,scrollbar:!1,scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",desktopClickDrag:!1,responsiveSlideWidth:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5e3,autoSlideTransTimer:750,infiniteSlider:!1,onSliderLoaded:function(){},onSlideChange:function(){},onSlideComplete:function(){},onFirstSlideComplete:function(){},onLastSlideComplete:function(){},lastSlideOffset:0},l);return this.each(function(){function l(){k.autoSlidePause(h),e(N).css("width",""),e(N).css("height",""),e(D).css("width",""),S=0,R=new Array,A=e(N).parent().width(),x=e(N).parent().height(),E=e(N).width(),I=e(N).height(),c.responsiveSlideWidth&&(E=e(N).width()>A?A:e(N).width(),I=e(N).height()>x?x:e(N).height()),e(N).css({position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1,width:E,height:I}),c.responsiveSlideWidth&&e(D).each(function(){var i=e(this).outerWidth(!0);i=i>E?E+-1*(e(this).outerWidth(!0)-e(this).width()):e(this).width(),e(this).css({width:i})}),e(G).children().each(function(i){e(this).css({"float":"left"}),R[i]=-1*S,S+=e(this).outerWidth(!0)});for(var i=0;i<R.length&&!(R[i]<=-1*(S-E));i++)J=i;return R.splice(J+1,R.length),R[R.length]=-1*(S-E),S-=E,e(G).css({webkitPerspective:1e3,webkitBackfaceVisibility:"hidden",position:"relative",cursor:v,width:S+E+"px",overflow:"hidden"}),k.setSliderOffset(G,R[O[h]]),0>=S?(e(G).css({cursor:"default"}),!1):(s||c.desktopClickDrag||e(G).css({cursor:"default"}),c.scrollbar&&(e("."+z).css({margin:c.scrollbarMargin,overflow:"hidden",display:"none"}),e("."+z+" ."+B).css({border:c.scrollbarBorder}),M=parseInt(e("."+z).css("marginLeft"))+parseInt(e("."+z).css("marginRight")),X=parseInt(e("."+z+" ."+B).css("borderLeftWidth"),10)+parseInt(e("."+z+" ."+B).css("borderRightWidth"),10),b=""!=c.scrollbarContainer?e(c.scrollbarContainer).width():E,T=(b-M)/K,c.scrollbarHide||(L=c.scrollbarOpacity),e("."+z).css({position:"absolute",left:0,width:b-M+"px",margin:c.scrollbarMargin}),"top"==c.scrollbarLocation?e("."+z).css("top","0"):e("."+z).css("bottom","0"),e("."+z+" ."+B).css({borderRadius:c.scrollbarBorderRadius,background:c.scrollbarBackground,height:c.scrollbarHeight,width:T-X+"px",minWidth:c.scrollbarHeight,border:c.scrollbarBorder,webkitPerspective:1e3,webkitBackfaceVisibility:"hidden",webkitTransform:"translateX("+Math.floor(-1*R[O[h]]/S*(b-M-T))+"px)",opacity:L,filter:"alpha(opacity:"+100*L+")",boxShadow:c.scrollbarShadow}),e("."+z).css({display:"block"}),s||e("."+B).css({position:"relative",left:Math.floor(-1*R[O[h]]/S*(b-M-T))})),c.infiniteSlider&&(F=(S+E)/3),""!=c.navSlideSelector&&e(c.navSlideSelector).each(function(i){e(this).css({cursor:"pointer"}),e(this).unbind("click.iosSliderEvent").bind("click.iosSliderEvent",function(){var e=i;c.infiniteSlider&&(e=i+$),O[h]=k.changeSlide(e,G,u,S,B,T,E,b,M,X,R,h,$,F,K,c)})}),""!=c.navPrevSelector&&(e(c.navPrevSelector).css({cursor:"pointer"}),e(c.navPrevSelector).unbind("click.iosSliderEvent").bind("click.iosSliderEvent",function(){(O[h]>0||c.infiniteSlider)&&(O[h]=k.changeSlide(O[h]-1,G,u,S,B,T,E,b,M,X,R,h,$,F,K,c))})),""!=c.navNextSelector&&(e(c.navNextSelector).css({cursor:"pointer"}),e(c.navNextSelector).unbind("click.iosSliderEvent").bind("click.iosSliderEvent",function(){(O[h]<R.length-1||c.infiniteSlider)&&(O[h]=k.changeSlide(O[h]+1,G,u,S,B,T,E,b,M,X,R,h,$,F,K,c))})),c.autoSlide&&(""!=c.autoSlideToggleSelector&&(e(c.autoSlideToggleSelector).css({cursor:"pointer"}),e(c.autoSlideToggleSelector).unbind("click.iosSliderEvent").bind("click.iosSliderEvent",function(){ei?(k.autoSlide(G,u,S,B,T,E,b,M,X,R,h,$,F,K,c),ei=!1,e(c.autoSlideToggleSelector).removeClass("on")):(k.autoSlidePause(h),ei=!0,e(c.autoSlideToggleSelector).addClass("on"))})),ei||k.autoSlide(G,u,S,B,T,E,b,M,X,R,h,$,F,K,c),s?e(N).bind("touchend.iosSliderEvent",function(){ei||k.autoSlide(G,u,S,B,T,E,b,M,X,R,h,$,F,K,c)}):(e(N).bind("mouseenter.iosSliderEvent",function(){k.autoSlidePause(h)}),e(N).bind("mouseleave.iosSliderEvent",function(){ei||k.autoSlide(G,u,S,B,T,E,b,M,X,R,h,$,F,K,c)}))),e(N).data("iosslider",{obj:ti,settings:c,scrollerNode:G,numberOfSlides:K,sliderNumber:h,childrenOffsets:R,sliderMax:S,scrollbarClass:B,scrollbarWidth:T,scrollbarStageWidth:b,stageWidth:E,scrollMargin:M,scrollBorder:X,infiniteSliderOffset:$,infiniteSliderWidth:F}),_=!1,!0)}i++;var h=i,u=new Array;m[h]=c;var S,b,T,A,x,E,I,M,X,P,W=new Array(0,0),H=new Array(0,0),z="scrollbarBlock"+i,B="scrollbar"+i,N=e(this);O[h]=c.startAtSlide-1;var R,D,F,Y=-1,L=(new Array,0),q=0,j=0,V=0,G=e(this).children(":first-child"),K=e(G).children().size(),Q=!1,J=0,U=!1,Z=void 0,$=K,_=!0;p[h]=-1;var ei=!1;w[h]=N,C[h]=!1;var ii=-1;y[h]=new Array;var ti=e(this),ri=ti.data("iosslider");if(void 0!=ri)return!0;if(c.infiniteSlider&&(c.scrollbar=!1,e(G).children().clone(!0,!0).prependTo(G).clone(!0,!0).appendTo(G),$=K),D=e(G).children(),c.scrollbar&&(""!=c.scrollbarContainer?e(c.scrollbarContainer).append("<div class = '"+z+"'><div class = '"+B+"'></div></div>"):e(G).parent().append("<div class = '"+z+"'><div class = '"+B+"'></div></div>")),!l())return!0;if(c.infiniteSlider&&(O[h]=O[h]+$,k.setSliderOffset(G,R[O[h]])),e(this).find("img").bind("mousedown",k.preventDrag),e(this).find("a").bind("mousedown",k.preventDrag),e(this).find("[onclick]").bind("click",k.preventDrag).each(function(){e(this).data("onclick",this.onclick)}),c.onSliderLoaded(new k.args(c,G,e(G).children(":eq("+O[h]+")"),O[h]%$)),m[h].responsiveSlideWidth){var ni=a?"orientationchange":"resize";e(window).bind(ni+".iosSliderEvent",function(){return l()?void 0:!0})}if((s||c.desktopClickDrag)&&(e(G).bind("touchstart.iosSliderEvent mousedown.iosSliderEvent",function(i){k.autoSlidePause(h),s?(eventX=event.touches[0].pageX,eventY=event.touches[0].pageY):(i.preventDefault(),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),eventX=i.pageX,eventY=i.pageY,U=!0,Z=this,e(this).css({cursor:g})),W=new Array(0,0),H=new Array(0,0),r=0,Q=!1;for(var n=0;n<u.length;n++)clearTimeout(u[n]);var l=k.getSliderOffset(this,"x");ii=O[h],c.infiniteSlider&&O[h]%K==0&&e(this).children().each(function(i){i%K==0&&i!=O[h]&&e(this).replaceWith(function(){return e(G).children(":eq("+O[h]+")").clone(!0)})}),l>t?(l=t,k.setSliderOffset(this,l),e("."+B).css({width:T-X+"px"})):-1*S>l&&(l=-1*S,k.setSliderOffset(this,l),k.setSliderOffset(e("."+B),b-M-T),e("."+B).css({width:T-X+"px"})),q=-1*(k.getSliderOffset(this,"x")-eventX),j=-1*(k.getSliderOffset(this,"y")-eventY),W[1]=eventX,H[1]=eventY}),e(G).bind("touchmove.iosSliderEvent mousemove.iosSliderEvent",function(i){if(s||(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()),s)eventX=event.touches[0].pageX,eventY=event.touches[0].pageY;else if(eventX=i.pageX,eventY=i.pageY,!U)return!1;if(c.infiniteSlider&&(k.getSliderOffset(this,"x")>R[K+1]+E&&(q+=F),k.getSliderOffset(this,"x")<R[2*K-1]-E&&(q-=F)),W[0]=W[1],W[1]=eventX,r=(W[1]-W[0])/2,H[0]=H[1],H[1]=eventY,n=(H[1]-H[0])/2,!s&&0==r)return!1;if((r>c.touchMoveThreshold||r<-1*c.touchMoveThreshold)&&s?(event.preventDefault(),Q=!0):s||(Q=!0),Q){var l=k.getSliderOffset(this,"x");s&&(V!=event.touches.length&&(q=-1*l+eventX),V=event.touches.length);var a=0;if(elasticPullResistance=c.elasticPullResistance,l>t&&(a=(q-eventX)*elasticPullResistance),-1*S>l&&(a=(S+-1*(q-eventX))*elasticPullResistance*-1),k.setSliderOffset(this,-1*(q-eventX-a)),c.scrollbar){k.showScrollbar(c,B),o=Math.floor((q-eventX-a)/S*(b-M-T));var d=T;l>=t?(d=T-X- -1*o,k.setSliderOffset(e("."+B),0),e("."+B).css({width:d+"px"})):-1*S+1>=l?(d=b-M-X-o,k.setSliderOffset(e("."+B),o),e("."+B).css({width:d+"px"})):k.setSliderOffset(e("."+B),o)}s&&(P=event.touches[0].pageX)}Y=k.calcActiveOffset(c,-1*(q-eventX-a),0,R,S,E,$,void 0),Y!=ii&&(ii=Y,c.onSlideChange(new k.args(c,this,e(this).children(":eq("+Y+")"),Y%$)))}),e(G).bind("touchend.iosSliderEvent",function(){if(0!=event.touches.length)for(var e=0;e<sizeof(event.touches.length);e++)event.touches[e].pageX==P&&k.slowScrollHorizontal(this,u,S,B,r,n,T,E,b,M,X,R,h,$,F,K,c);else k.slowScrollHorizontal(this,u,S,B,r,n,T,E,b,M,X,R,h,$,F,K,c)}),!s)){var li=e(window);if(f||d)var li=e(document);e(li).bind("mouseup.iosSliderEvent",function(){if(Q?e(G).children().find("a").unbind("click.disableClick").bind("click.disableClick",k.preventClick):e(G).children().find("a").unbind("click.disableClick").bind("click.disableClick",k.enableClick),e(G).children(":eq("+O[h]+")").find("[onclick]").each(function(){this.onclick=function(i){return Q?!1:void e(this).data("onclick").call(this,i||window.event)}}),!C[h]){if(e(G).css({cursor:v}),U=!1,void 0==Z||0==W[0])return!1;k.slowScrollHorizontal(Z,u,S,B,r,n,T,E,b,M,X,R,h,$,F,K,c),Z=void 0}})}})},destroy:function(i){return this.each(function(){var t=e(this),r=t.data("iosslider");return void 0==r?!1:(void 0==i&&(i=!0),k.autoSlidePause(r.sliderNumber),C[r.sliderNumber]=!0,e(window).unbind(".iosSliderEvent"),e(this).unbind(".iosSliderEvent"),e(this).children(":first-child").unbind(".iosSliderEvent"),e(this).children(":first-child").children().unbind(".iosSliderEvent"),i&&(e(this).attr("style",""),e(this).children(":first-child").attr("style",""),e(this).children(":first-child").children().attr("style",""),e(r.settings.navSlideSelector).attr("style",""),e(r.settings.navPrevSelector).attr("style",""),e(r.settings.navNextSelector).attr("style",""),e(r.settings.autoSlideToggleSelector).attr("style","")),r.settings.infiniteSlider&&(e(this).children(":first-child").html(),e(this).children(":first-child").html(e(this).children(":first-child").children(":nth-child(-n+"+r.numberOfSlides+")").clone(!0))),void t.removeData("iosslider"))})},goToSlide:function(i){return this.each(function(){var t=e(this),r=t.data("iosslider");return void 0==r?!1:(i=(i-1)%r.numberOfSlides,r.settings.infiniteSlider&&(i+=r.infiniteSliderOffset),k.changeSlide(i,e(r.scrollerNode),y[r.sliderNumber],r.sliderMax,r.scrollbarClass,r.scrollbarWidth,r.stageWidth,r.scrollbarStageWidth,r.scrollMargin,r.scrollBorder,r.childrenOffsets,r.sliderNumber,r.infiniteSliderOffset,r.infiniteSliderWidth,r.numberOfSlides,r.settings),void(O[r.sliderNumber]=i))})}};e.fn.iosSlider=function(i){return T[i]?T[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("invalid method call!"):T.init.apply(this,arguments)}}(jQuery);